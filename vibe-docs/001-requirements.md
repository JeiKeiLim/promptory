# Promptory - LLM Prompt 관리 앱 요구사항 명세서

## 프로젝트 배경 및 문제 인식

### 배경 상황
LLM(Large Language Model) 사용이 일상화되면서 다양한 프롬프트를 반복적으로 사용하는 상황이 증가하고 있습니다. 현재 많은 사용자들이 프롬프트를 매번 새로 작성하거나 복사-붙여넣기하는 비효율적인 방식을 사용하고 있으며, 특히 파라미터가 포함된 템플릿 프롬프트의 체계적 관리에 어려움을 겪고 있습니다.

### 현재 문제점
- 프롬프트를 매번 새로 작성하거나 복사-붙여넣기하는 비효율성
- 파라미터화된 프롬프트의 체계적 관리 부족
- 프롬프트 재사용성 및 접근성 저하
- 프롬프트 분류 및 검색의 어려움

### 해결해야 할 과제
- 프롬프트 템플릿의 체계적 관리 및 재사용성 향상
- 파라미터화된 프롬프트의 효율적 사용 환경 구축
- 로컬 파일 기반의 안전하고 투명한 프롬프트 저장 및 관리
- Obsidian과 유사한 파일 기반 관리 시스템 구현

## 시스템의 목적 및 개요

Promptory는 LLM을 자주 사용하는 사용자들을 위한 데스크탑 프롬프트 관리 애플리케이션입니다. 사용자가 프롬프트 템플릿을 체계적으로 관리하고, 파라미터를 활용한 동적 프롬프트 생성을 통해 LLM 사용 효율성을 극대화하는 것을 목표로 합니다.

### 핵심 가치
- **효율성**: 파라미터화된 프롬프트를 통한 빠른 프롬프트 생성
- **체계성**: 폴더 구조와 태그를 활용한 프롬프트 분류 및 관리
- **투명성**: 마크다운 + YAML 헤더 형식의 로컬 파일 저장
- **접근성**: 검색, 즐겨찾기 등을 통한 빠른 프롬프트 접근

## 구현 단계

### 1단계: 핵심 기능 구현

#### 1.1 기본 앱 구조 및 UI
- **기술 스택**: Electron 기반 데스크탑 애플리케이션
- **지원 플랫폼**: macOS 우선, 크로스 플랫폼 지원
- **메인 레이아웃**:
  - 좌측 패널: 즐겨찾기, 폴더 트리, 태그 목록
  - 상단: 검색바
  - 중앙: 프롬프트 제목 및 속성 목록
  - 우측: 선택된 프롬프트 내용 표시

#### 1.2 프롬프트 파일 관리
- **파일 형식**: 마크다운(.md) + YAML 헤더
- **저장 위치**: 사용자 지정 디렉토리 (기본값: `~/Promptory`)
- **파일명 규칙**: 제목 기반 자동 생성 (특수문자/공백 → 하이픈 변환)
- **YAML 헤더 구조**:
```yaml
---
title: "프롬프트 제목"
description: "프롬프트 설명"
tags: ["태그1", "태그2"]
favorite: false
parameters:
  - name: "파라미터명"
    type: "string" | "category"
    options: ["옵션1", "옵션2"]  # category 타입인 경우
    required: true | false
    description: "파라미터 설명"  # 선택사항
---
```

#### 1.3 프롬프트 작성 및 편집
- **마크다운 에디터**: 기본 문법 하이라이팅 지원
- **실시간 미리보기**: 마크다운 렌더링 결과 표시
- **파라미터 자동 등록**: `{파라미터이름}` 형태 입력 시 자동 감지 및 등록
- **파라미터 명명 규칙**: 영문, 숫자, 언더스코어, 한글 허용 (숫자로 시작 불가)
- **파라미터 관리**: 저장 시 사용되지 않는 파라미터 자동 삭제

#### 1.4 프롬프트 사용 기능
- **사용 플로우**:
  1. 프롬프트 선택 → "사용" 버튼 클릭
  2. 파라미터 입력 모달 표시
  3. 실시간 미리보기 제공
  4. 클립보드 복사 기능
- **파라미터 입력**: 
  - string 타입: 텍스트 입력 (긴 텍스트 지원)
  - category 타입: 드롭다운 선택
  - 중복 파라미터는 한 번만 입력
  - 필수/선택 파라미터 구분

### 2단계: 고급 기능 구현

#### 2.1 검색 및 필터링
- **검색 범위**: 제목, 내용, 태그 전체
- **실시간 검색**: 타이핑과 동시에 결과 표시
- **검색 결과**: 관련도 기반 정렬, 검색어 하이라이트
- **성능**: 1,000개 미만 파일에서 실시간 검색 지원

#### 2.2 즐겨찾기 및 태그 관리
- **즐겨찾기**: YAML 헤더에 저장, 별도 섹션 표시 + 아이콘 표시
- **태그 관리**: 
  - 콤마로 구분된 텍스트 입력
  - 기존 태그 자동완성 제안
  - 태그별 프롬프트 필터링

#### 2.3 폴더 및 프로젝트 관리
- **폴더 구조**: 하위 폴더를 통한 프롬프트 분류
- **폴더 관리**: 앱 내에서 생성, 삭제, 이름 변경 지원
- **프로젝트 전환**: VSCode와 유사한 프로젝트 디렉토리 전환 기능
- **파일 감시**: 외부 파일 변경 시 자동 새로고침

#### 2.4 설정 및 사용성
- **앱 설정**: 테마(다크/라이트), 폰트 크기 등
- **설정 저장**: 프로젝트 폴더 내 `.promptory.yaml` 파일
- **캐시 관리**: `.promptory/` 디렉토리에 태그 목록 등 저장
- **단축키**: 
  - 새 프롬프트 생성
  - 검색 포커스
  - 즐겨찾기 토글
  - 프롬프트 사용 모드
  - 클립보드 복사

### 3단계: 사용자 경험 개선

#### 3.1 초기 사용자 지원
- **첫 실행**: 기본 디렉토리 생성 여부 사용자 확인
- **샘플 프롬프트**: 초기 사용자를 위한 예제 프롬프트 제공
- **온보딩**: 기본 사용법 안내

#### 3.2 에러 처리 및 안정성
- **파일 오류**: 손상된 파일은 오류 아이콘 표시 후 raw 마크다운 표시
- **YAML 파싱 오류**: 잘못된 YAML 헤더 시 오류 표시 및 raw 표시
- **데이터 보호**: 편집 중 파라미터 삭제 시 저장 전까지 유지

#### 3.3 모달 UI 개선
- **동적 크기**: 파라미터 개수에 따른 모달 크기 조절
- **키보드 지원**: 
  - ESC: 모달 닫기 (입력 중일 때 확인 요청)
  - 특정 단축키: 클립보드 복사
- **사용성**: 긴 텍스트 입력 지원, 파라미터별 설명 표시

## 기술적 요구사항

### 개발 환경
- **프레임워크**: Electron 32+
- **Node.js 버전**: v24.7.0 LTS
- **주요 플랫폼**: macOS (Windows, Linux 호환)
- **파일 관리**: 로컬 파일 시스템 기반
- **성능 목표**: 1,000개 미만 프롬프트 실시간 처리

### 데이터 관리
- **저장 방식**: 마크다운 + YAML 헤더
- **백업**: 사용자 직접 폴더 백업 (앱 내 기능 제외)
- **가져오기**: 사용자 직접 파일 복사 (앱 내 기능 제외)
- **보안**: 현재 단계에서는 암호화 제외

### 확장성 고려사항
- **버전 관리**: 추후 기능으로 고려
- **협업 기능**: 추후 기능으로 고려  
- **보안 강화**: 추후 기능으로 고려
- **vim 스타일 단축키**: 추후 고급 기능으로 고려

## 성공 지표

### 사용성 지표
- 프롬프트 생성에서 사용까지 3클릭 이내 완료
- 검색 결과 0.5초 이내 표시
- 파라미터 입력에서 복사까지 10초 이내 완료

### 기능 지표
- 1,000개 프롬프트 관리 시 성능 저하 없음
- 모든 파일 형식 오류 상황에서 앱 크래시 없음
- 외부 파일 변경 1초 이내 감지 및 반영

이 요구사항 명세서는 Promptory 개발의 기본 가이드라인으로 활용되며, 각 단계별 구현을 통해 점진적으로 완성도 높은 LLM 프롬프트 관리 도구를 구축하는 것을 목표로 합니다.
